add_executable(exp_bench_gnu SIMD_bench.cpp)
target_link_libraries(exp_bench_gnu Kokkos::kokkos math-simd)
target_compile_options(exp_bench_gnu PRIVATE -march=native -O3)

find_program(ICX_COMPILER icpx)
if(NOT ICX_COMPILER)
  message(WARNING "Intel C++ Compiler not found")
else()
  set(CMAKE_CXX_COMPILER icpx)
  add_executable(exp_bench_icpx SIMD_bench.cpp)
  target_compile_definitions(exp_bench_icpx PUBLIC -D__INTEL_BENCHMARK)
  target_link_libraries(exp_bench_icpx Kokkos::kokkos math-simd)
  target_compile_options(exp_bench_icpx PRIVATE -march=native -O3)
endif()
